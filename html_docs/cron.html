<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252" />
<link rel="icon" href="html_docs/images/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="sdmenu/sdmenu.css" />

<title>Denora IRC Stats v1.5 Documentation</title>
</head>

<body>
Denora CRON Events<br />
---------------------<br />
<br />
1) Intro<br />
2) Cron Events<br />
3) Triggered Events List<br />
<br />
1) Introduction to CRON Events<br />
<br />
    Cron Events are setup to give module developers the ability to have code
    run at given times without having to figure out the time in seconds for
    which their event is to be triggered. A list of time events can be found 
    below. The rest of this document assumes that you are used to writing modules.<br />
<br />
2) Cron Events<br />
<br />
    A) All functions most be formatted as:<br />
<br />
        int functioname(char *name);<br />
<br />
    B) In DenoraInit you must declare CronEvent in some fashion; it is into
       this variable that we will create the cron event handler. Here is what
       the base DenoraInit should look like at this point:<br />
<br />
<pre>
        int DenoraInit(int argc, char **argv)
        {
            CronEvent *cevt = NULL;
            int status;

            moduleAddAuthor(AUTHOR);
            moduleAddVersion(VERSION);
            return MOD_CONT;
        }
</pre>
    C) Pass "createCronEvent" the name of the event. In this case we are
       going to hook time event of midnight, "CRON_MIDNIGHT".<br />
<pre>
        cevt = createCronEventHook(CRON_MIDNIGHT, midnight_check);
</pre>
    D) The Handler is not ready for use yet; now you must add it to the hash
       with "moduleAddCronEvent". You will want to pass to this function the
       return of "createCronEvent"<br />
<br />
        status = moduleAddCronEvent(cevt);<br />
<br />
       It will return the same module error codes as adding a regular message,
       which you can use to confirm it was added correctly.<br />
<br />
    E) With that setup in your function you will be passed 1 item. The message
       is very simple; it could be as simple as a start, stop or message. In
       the case of saving it has a start and stop.<br />
<br />
        int midnight_check(char *name)<br />
        {<br />
         /* its midnight transfer current users over to daily users */<br />
           stats->daily_users = stats_users;<br />
            return MOD_CONT;<br />
        }<br />
<br />
3) Triggered Events List<br />
<br />
    Here's a list of all event hooks we currently offer, with a description
    of what argument is being passed to the event functions for this type of
    event. <br />
<br />
    CRON_MIDNIGHT<br />
        Run at midnight, every night<br />
<br />
    CRON_WEEKLY_SUNDAY<br />
        Run at midnight, Sunday, this is helpful for weekly stats<br />
<br />
    CRON_WEEKLY_MONDAY<br />
        Run at midnight, Monday, this is helpful for weekly stats<br />
<br />
    CRON_WEEKLY_TUESDAY<br />
        Run at midnight, Tuesday, this is helpful for weekly stats<br />
<br />
    CRON_WEEKLY_WEDNESDAY<br />
        Run at midnight, Wednesday, this is helpful for weekly stats<br />
<br />
    CRON_WEEKLY_THURSDAY<br />
        Run at midnight, Thursday, this is helpful for weekly stats<br />
<br />
    CRON_WEEKLY_FRIDAY<br />
        Run at midnight, Friday, this is helpful for weekly stats<br />
<br />
    CRON_WEEKLY_SATURDAY<br />
        Run at midnight, Saturday, this is helpful for weekly stats<br />
<br />
    CRON_MONTHLY<br />
        Run at Midnight on the first of the Month<br />
<br />
    CRON_HOUR_1<br />
	Run at 1am, every day<br />
<br />
    CRON_HOUR_2<br />
	Run at 2am, every day<br />
<br />
    CRON_HOUR_3<br />
	Run at 3am, every day<br />
<br />
    CRON_HOUR_4<br />
	Run at 2am, every day<br />
	<br />
    CRON_HOUR_5<br />
	Run at 5 am, every day<br />
<br />
    CRON_HOUR_6<br />
	Run at 6 am, every day<br />
<br />
    CRON_HOUR_7<br />
	Run at 7 am, every day<br />
<br />
    CRON_HOUR_8<br />
	Run at 8 am, every day<br />
<br />
    CRON_HOUR_9<br />
	Run at 9 am, every day<br />
<br />
    CRON_HOUR_10<br />
	Run at 10 am, every day<br />
<br />
    CRON_HOUR_11<br />
	Run at 11 am, every day<br />
<br />
    CRON_HOUR_12<br />
	Run at 12 noon every day<br />
<br />
    CRON_HOUR_13<br />
	Run at 1 pm, every day<br />
<br />
   CRON_HOUR_14<br />
	Run at 2 pm, every day<br />
<br />
   CRON_HOUR_15<br />
	Run at 3 pm, every day<br />
<br />
   CRON_HOUR_16<br />
	Run at 4 pm, every day<br />
<br />
   CRON_HOUR_17<br />
	Run at 5 pm, every day<br />
<br />
   CRON_HOUR_18<br />
	Run at 6 pm, every day<br />
<br />
   CRON_HOUR_19<br />
	Run at 7 pm, every day<br />
<br />
   CRON_HOUR_20<br />
	Run at 8 pm, every day<br />
<br />
    CRON_HOUR_21<br />
	Run at 9 pm, every day<br />
<br />
    CRON_HOUR_22<br />
	Run at 10 pm, every day<br />
<br />
    CRON_HOUR_23<br />
	Run at 11 pm, every day	<br />
<br />

